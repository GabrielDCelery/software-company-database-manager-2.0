var DatabaseApp=angular.module("DatabaseApp",["ngRoute","ngCookies","AuthCtrl","AuthFactory"]),AuthCtrl=angular.module("AuthCtrl",[]);AuthCtrl.controller("AuthCtrl",["$scope","AuthFactory",function(e,t){function o(o,r){t.login(o,r,function(n){n.data?(e.loggedIn=!0,t.setLoginCookie(o,r)):e.loggedIn=!1})}function r(){e.loggedIn=!1,t.clearLoginCookie()}function n(e){t.getLoginCookie(e)}e.loggedIn=!1,e.login=o,e.logout=r,n(o)}]);var AuthFactory=angular.module("AuthFactory",[]);AuthFactory.factory("AuthFactory",["$http","$cookies",function(e,t){function o(t,o,r){e.post("php/login.php",{username:t,password:o}).success(r)}function r(e,o){var r=i.encode(e),n=i.encode(o),a={username:r,password:n};t.putObject("userCookie",a)}function n(){t.remove("userCookie")}function a(e){var o=t.getObject("userCookie");if(o){var r=i.decode(o.username),n=i.decode(o.password);e(r,n)}}var i={keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var t,o,r,n,a,i="",c="",h="",u=0;do t=e.charCodeAt(u++),o=e.charCodeAt(u++),c=e.charCodeAt(u++),r=t>>2,n=(3&t)<<4|o>>4,a=(15&o)<<2|c>>6,h=63&c,isNaN(o)?a=h=64:isNaN(c)&&(h=64),i=i+this.keyStr.charAt(r)+this.keyStr.charAt(n)+this.keyStr.charAt(a)+this.keyStr.charAt(h),t=o=c="",r=n=a=h="";while(u<e.length);return i},decode:function(e){var t,o,r,n,a,i="",c="",h="",u=0,d=/[^A-Za-z0-9\+\/\=]/g;d.exec(e)&&window.alert("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\nExpect errors in decoding."),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");do r=this.keyStr.indexOf(e.charAt(u++)),n=this.keyStr.indexOf(e.charAt(u++)),a=this.keyStr.indexOf(e.charAt(u++)),h=this.keyStr.indexOf(e.charAt(u++)),t=r<<2|n>>4,o=(15&n)<<4|a>>2,c=(3&a)<<6|h,i+=String.fromCharCode(t),64!=a&&(i+=String.fromCharCode(o)),64!=h&&(i+=String.fromCharCode(c)),t=o=c="",r=n=a=h="";while(u<e.length);return i}};return{login:o,setLoginCookie:r,clearLoginCookie:n,getLoginCookie:a}}]);